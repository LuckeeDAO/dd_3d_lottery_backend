# DD 3D 彩票系统项目结构

## 📁 项目结构图

```
dd_3d_lottery/                          # 项目根目录
├── README.md                           # 项目总体说明
├── docs/                               # 项目级文档
│   ├── 系统架构设计.md                   # 系统架构文档
│   ├── 部署指南.md                       # 部署指南
│   └── 项目结构说明.md                    # 项目结构说明
├── dd_3d_lottery_backend/              # 后端 - CosmWasm 智能合约
│   ├── README.md                       # 后端说明文档
│   ├── Cargo.toml                      # Rust 项目配置
│   ├── Cargo.lock                      # 依赖锁定文件
│   ├── src/                            # 源代码目录
│   │   ├── lib.rs                      # 库入口点
│   │   ├── contract.rs                 # 合约入口点
│   │   ├── execute.rs                  # 执行消息处理
│   │   ├── query.rs                    # 查询消息处理
│   │   ├── msg.rs                      # 消息定义
│   │   ├── state.rs                    # 状态管理
│   │   ├── error.rs                    # 错误定义
│   │   ├── phase_manager.rs            # 阶段管理
│   │   ├── lottery_logic.rs            # 彩票逻辑
│   │   └── reward_system.rs            # 奖励系统
│   ├── tests/                          # 测试文件
│   │   ├── integration.rs              # 集成测试
│   │   ├── security_tests.rs           # 安全测试
│   │   ├── performance_tests.rs        # 性能测试
│   │   ├── reward_distribution_tests.rs # 奖金分配测试
│   │   ├── end_to_end_tests.rs         # 端到端测试
│   │   └── test_config.rs              # 测试配置
│   ├── scripts/                        # 部署脚本
│   ├── schema/                         # JSON Schema
│   ├── docs/                           # 后端技术文档
│   │   ├── 01-结构化需求规格说明书.md
│   │   ├── 02-精确接口契约.md
│   │   ├── 03-架构与设计约束.md
│   │   ├── 04-非功能性需求量化指标.md
│   │   ├── 05-过程与决策记录.md
│   │   ├── 06-验证与质量保障.md
│   │   ├── 07-部署与运维.md
│   │   ├── 08-CosmWasm合约规范合规性.md
│   │   ├── 09-GitHub仓库设置指南.md
│   │   ├── 10-部署报告模板.md
│   │   ├── 11-部署成功关键因素.md
│   │   ├── 使用示例.md
│   │   ├── 去中心化随机数安全机制.md
│   │   ├── 技术文档.md
│   │   └── 测试补充说明.md
│   ├── target/                         # 编译输出目录
│   ├── 会话管理逻辑问题修复报告.md
│   ├── 会话管理逻辑问题分析报告.md
│   ├── 修改总结报告.md
│   ├── 奖金分配算法详细说明.md
│   ├── 承诺阶段预验证功能实现报告.md
│   └── 项目总结.md
└── dd_3d_lottery_frontend/             # 前端 - React Web 应用
    ├── README.md                       # 前端说明文档
    ├── package.json                    # Node.js 项目配置
    ├── package-lock.json               # 依赖锁定文件
    ├── vite.config.ts                  # Vite 配置
    ├── tsconfig.json                   # TypeScript 配置
    ├── tailwind.config.js              # Tailwind CSS 配置
    ├── postcss.config.js               # PostCSS 配置
    ├── jest.config.js                  # Jest 测试配置
    ├── cypress.config.js               # Cypress E2E 测试配置
    ├── index.html                      # HTML 入口文件
    ├── env.example                     # 环境变量示例
    ├── vercel.json                     # Vercel 部署配置
    ├── docker-compose.yml              # Docker Compose 配置
    ├── Dockerfile                      # Docker 配置
    ├── nginx.conf                      # Nginx 配置
    ├── src/                            # 源代码目录
    │   ├── App.tsx                     # 应用入口组件
    │   ├── main.tsx                    # 应用启动文件
    │   ├── components/                 # React 组件
    │   ├── pages/                      # 页面组件
    │   ├── hooks/                      # 自定义 Hooks
    │   ├── services/                   # API 服务
    │   ├── utils/                      # 工具函数
    │   ├── types/                      # TypeScript 类型定义
    │   └── styles/                     # 样式文件
    ├── public/                         # 静态资源
    ├── docs/                           # 前端文档
    ├── cypress/                        # E2E 测试
    ├── monitoring/                     # 监控配置
    ├── scripts/                        # 构建脚本
    ├── DEPLOYMENT_OPTIONS.md           # 部署选项说明
    └── PROJECT_STATUS.md               # 项目状态说明
```

## 🎯 目录说明

### 根目录文件

- **README.md**: 项目总体说明，包含前后端介绍和快速开始指南
- **docs/**: 项目级文档，包含架构、部署等总体文档

### Backend 目录 (后端)

**核心文件：**
- `Cargo.toml`: Rust 项目配置文件
- `src/`: 智能合约源代码
- `tests/`: 测试文件
- `scripts/`: 部署和构建脚本
- `docs/`: 后端技术文档

**主要功能：**
- CosmWasm 智能合约开发
- 三阶段投注系统
- 随机数生成和奖金分配
- 安全防护机制

### Front 目录 (前端)

**核心文件：**
- `package.json`: Node.js 项目配置
- `src/`: React 应用源代码
- `public/`: 静态资源文件
- `docs/`: 前端技术文档

**主要功能：**
- React 用户界面
- 投注流程管理
- 实时状态显示
- 结果查询展示

## 🔄 开发工作流

### 1. 后端开发

```bash
# 进入后端目录
cd dd_3d_lottery_backend

# 开发智能合约
cargo build
cargo test

# 部署合约
./scripts/deploy.sh
```

### 2. 前端开发

```bash
# 进入前端目录
cd dd_3d_lottery_frontend

# 开发 Web 应用
npm run dev
npm run test

# 构建生产版本
npm run build
```

### 3. 全栈开发

```bash
# 项目根目录
cd dd_3d_lottery

# 同时开发前后端
# 终端 1: 后端开发
cd dd_3d_lottery_backend && cargo run

# 终端 2: 前端开发
cd dd_3d_lottery_frontend && npm run dev
```

## 📚 文档结构

### 项目级文档 (docs/)

- **系统架构设计.md**: 系统架构设计
- **部署指南.md**: 部署指南
- **项目结构说明.md**: 项目结构说明

### 后端文档 (dd_3d_lottery_backend/docs/)

- 技术规格文档
- API 接口文档
- 安全机制文档
- 测试文档

### 前端文档 (dd_3d_lottery_frontend/docs/)

- 组件文档
- 使用指南
- 部署文档
- 测试文档

## 🚀 部署结构

### 开发环境

```
开发者 → 本地开发 → Git 提交 → 代码审查 → 合并主分支
```

### 生产环境

```
代码合并 → CI/CD 流水线 → 自动构建 → 自动部署 → 生产环境
```

### 部署选项

1. **后端部署**: 智能合约部署到区块链网络
2. **前端部署**: Web 应用部署到 CDN 或云平台
3. **Docker 部署**: 容器化部署
4. **云平台部署**: AWS、Azure、Google Cloud

## 🔒 安全考虑

### 代码安全

- 前后端分离，减少攻击面
- 智能合约安全审计
- 前端输入验证
- 安全头部配置

### 部署安全

- HTTPS 加密传输
- 访问控制
- 防火墙配置
- 监控和日志

## 📈 扩展性

### 水平扩展

- 前端多实例部署
- 智能合约多链支持
- 数据库集群

### 功能扩展

- 新功能模块
- API 版本管理
- 向后兼容性

## 🤝 贡献指南

### 代码贡献

1. Fork 项目
2. 创建功能分支
3. 提交代码
4. 创建 Pull Request

### 文档贡献

1. 更新相关文档
2. 保持文档同步
3. 遵循文档规范

## 📞 支持

- 查看相关文档
- 搜索 Issues
- 创建新的 Issue
- 联系维护团队

---

**DD 3D 彩票系统项目结构** - 清晰、模块化、可维护的项目组织 🏗️
